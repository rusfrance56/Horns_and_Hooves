# Horns_and_Hooves

Spring Boot Rest JPA
=============================
Пользователь заходит в приложение, выбирает мебель, кладет в корзину, нажимает купить 

-> создается ордер в котором вся мебель из заказа делится на работников по депортаментам

-> они её делают и, когда всё готово, ордер завершается и отправляется смс или email

-> работники могут заходить и просматривать таски, менять статус и оставлять коментарии

-> админ может менять ордера, создавать новую мебель

INSTALLATION
------------
В конфигурационном файле <b>application.properties</b> необходимо заполнить свойство 
spring.profiles.active=postgre (провайдер sql)
Для запуска необходимо создать базу данных и добавить её в конфигурационный файл 

(например <b>application-postgre.properties</b>)

SQL HELP
-----------

WHAT'S NEXT
-----------
- сделать авторизацию и фильтрацию записей из базы по юзеру при выборке(сквозная функциональность проверок)
- починить hsqldb, h2
- покрыть тестами
- логирование
- сделать валидацию
- добавить кодаси и прочую хрень
- таблицу заказов и айтемы разбить постранично с помощью спринг пейджинга
- изменить внешний вид на bootstrap 5
- добавить форму логина и регистрации
- при открытии нескольких заказов через ссылку на заказ(в адресной строке /tasks/editTask/100011)
    старое модальное окно  не закрывается
- ! сделать распределение неназначенный ордеров
- не работает локализация на хедере колонки которую сортируем в items
- переделать на промис сохранение картинок для айтема
- сделать чтобы сохранялись только новые картинки, а не все
- сделать несколько картинок у айтема

- при вытаскивании ордеров вытаскивать айдишники айтемов а не сущности, потому что это накладно вытаскивать одни и те же сущности, 
    нужно их вытаскивать 1 раз и потом мапить (или если айтемов будет очень много, то вытаскивать позже при просмотре по айдишникам)
- написать генератор данных, который будет заполнять базу кучей данных
- hibernate N+1
- cascade = all
- переделать выбор количество записей на странице под директиву
- при удалении элемента, пересчитывать количество айтемов на странице

- при завершении таски проверять аспектом что все таски из этого ордера завершены, тогда завершать ордер
- исправить отображение айтема в таске на фронте (выпадающий список)

- Переделать систему на микросервисы и очереди (чтобы задачи бились на очереди и после того как работник закрывал задачу, 
  система кидала ему новую)

- Сделать чтобы можно было менять userName пользователя во время активной сессии этого пользователя (если он сам меняет через профиль)
- Чтобы не гонять ItemTO при создании и апдейте сущности Task, переделать чтобы на бэк передавался itemId вместо ItemTO  

- Написать запрос для Item используя спецификации(наподобие критериев, для сложных динамических запросов) 
- org.springframework.data.jpa.domain.Specification;

- Сделать нормальное запоминание страницы на которой разлогинились, чтобы после релогина вернуться на неё
- Сделать функцию rememberMe

COMMANDS
-----------
ng extract-i18n --output-path src/locale - создать файл с локализацией (только его потом надо 
добавить оттуда свежие слова в файл с русской локалью)
или если настроена команда, то: npm run int:extract

https://www.digitalocean.com/community/tutorials/angular-internationalization

Rusfrance inc.
